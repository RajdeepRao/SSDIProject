var app = angular.module("myApp",["ngRoute"]);

app.config(function($routeProvider){
  $routeProvider
  .when('/',{
    templateUrl:'landingPage.html'
  })
  .when('/dashboard',{
    resolve: {
      "check": function($location,$rootScope){
          if(!$rootScope.logIn){
            $location.path('/');
          }
      }
    },
    templateUrl:'dashboard.html'
  })
  .otherwise({
    redirectTo: '/'
  })
});

app.controller('LogIn',function($scope,$rootScope, $location){
  $scope.email="rajdeeprrao94@gmail.com";
  $scope.password="asdf";
  $scope.username="";
  $rootScope.logIn=false;

  $scope.logIn=function(email){
    if(email=="rajdeeprrao94@gmail.com"){
        $rootScope.logIn=true;
        alert('login successful');
        getElementById('myModal').modal('hide');
    }

  };

});

app.controller('SignUp',function($scope, $http, $rootScope, $location){
  $scope.role;
  $scope.firstName;
  $scope.lastName;
  $scope.ninerNumber;
  $scope.email;
  $scope.password;
  $scope.value=5;
  $scope.students;

  $rootScope.signUpSuccess=false;
  
  $scope.signUpFunction=function($http){
	  $scope.value=5+$scope.ninerNumber;
	  
	  var result=$http.get('http:/localhost:8080/data.json')
	  .success(function(response){
		    $scope.students=response.data;
		  });
	  
	  $http.get('http://localhost:8080/data.json')
	  .success(function(response){
	    $scope.students=response.students;
	  });
		  
	  
	/*  var req = {
			  method: 'PUT',
			  url: 'http://localhost:8080/students/7',
			  headers: {
			    'Content-Type': 'application/json'
			  },
			  data: {
				  "id": 7,
				  "firstName": "Mihir",
				  "lastName": "Parab",
				  "emailId": "mihirp@uncc.edu",
				  "password": "mihir1994"
			}
		} */
			   
  };


});

app.controller('listStudents',function($scope,$http){
  $http.get('http://localhost:8080/data.json')
  .success(function(response){
    $scope.students=response.students;
  });
});
